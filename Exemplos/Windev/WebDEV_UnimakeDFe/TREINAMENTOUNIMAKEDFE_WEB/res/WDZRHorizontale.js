/*! 28.0.2.0 */
/*! VersionVI: 01F280051n   */
function WDZRHorizontale(){arguments.length&&(WDChamp.prototype.constructor.apply(this,arguments),this.ms_tabTablesZRs.DeclareChamp(this),this.m_bDansOnSelectLigneExterne=!1)}function WDDragScrollBarBase(n,t){n&&(WDDrag.prototype.constructor.apply(this,[0,50]),this.m_oObjetZRHorizontale=n,this._AttacheDetacheMouseDown(!0,t,this.m_fMouseDown))}function WDDragScrollBarCurseur(n){n&&WDDragScrollBarBase.prototype.constructor.apply(this,[n,n.m_oDivScrollBar])}function WDDragScrollBarFond(n){n&&(WDDragScrollBarBase.prototype.constructor.apply(this,[n,n.m_oDivScrollBar.parentNode]),this.m_oDivScrollBar=n.m_oDivScrollBar)}function WDDragScrollBarBouton(n,t,i){n&&(WDDragScrollBarBase.prototype.constructor.apply(this,[n,n.oGetIDElement(t)]),this.m_bDroite=i)}WDZRHorizontale.prototype=new WDChamp;WDZRHorizontale.prototype.constructor=WDZRHorizontale;WDZRHorizontale.prototype.Init=function(){WDChamp.prototype.Init.apply(this,arguments);this._InitDefilement();for(var t=parseInt(this.m_oChampOcc.value,10),n=0;n<t;n++)this.m_tabChampsFils._AppelMethodePtr(WDChamp.prototype.OnLigneTableZRAffiche,[n+1,!1]);this._InitDeplace()};WDZRHorizontale.prototype.vbZR=function(){return!0};WDZRHorizontale.prototype.vTableZROnSelectLigne=function(n){try{var t=this.m_bDansOnSelectLigneExterne;this.m_bDansOnSelectLigneExterne=!0;this._vSetValeurChampFormulaire(n)}finally{this.m_bDansOnSelectLigneExterne=t}};WDZRHorizontale.prototype.vTableZROnValideLigne=clWDUtil.m_pfVide;WDZRHorizontale.prototype.OnSelectLigne=function(n,t,i){this.vTableZROnSelectLigne(n,i)};WDZRHorizontale.prototype._vLiaisonHTML=function(){WDChamp.prototype._vLiaisonHTML.apply(this,arguments);this.m_oChampOcc=this.oGetElementByName(document,"_OCC");this.m_oChampPos=this.oGetElementByName(document,"_POSV");this.m_oDivPos=this.oGetIDElement("POS");this.m_oDivPosTable=this.m_oDivPos.getElementsByTagName("table")[0];this.m_oDivPosParent=this.m_oDivPos.parentNode;this.m_oDivScrollBar=this.oGetIDElement("SB")};WDZRHorizontale.prototype._InitDefilement=function(){if(this.m_oDragScrollBarCurseur=new WDDragScrollBarCurseur(this),this.m_oDragScrollBarFond=new WDDragScrollBarFond(this),this.m_oDragScrollBarBtnGauche=new WDDragScrollBarBouton(this,"BG",!1),this.m_oDragScrollBarBtnDroite=new WDDragScrollBarBouton(this,"BD",!0),bTouch){var n=this;new WDDragTouch(function(t){n.OnDeplace(n.m_nPosition+t)},this.m_oDivPos)}};WDZRHorizontale.prototype._InitDeplace=function(){var n=parseInt(this.m_oChampPos.value,10);(isNaN(n)||n<0)&&(n=0);this._Deplace(n)};WDZRHorizontale.prototype._Deplace=function(n){this.m_nPosition!=n&&(this.m_nPosition=n,this.m_oChampPos.value=n,this._DeplaceElements())};WDZRHorizontale.prototype.OnDeplace=function(n){n<0&&(n=0);var t=this.nGetLargeurTotale(),i=this.nGetLargeurCliente();t<=i?n=0:n+i>t&&(n=t-i);this._Deplace(n)};WDZRHorizontale.prototype._vOnTableZRAfficheAJAX=function(n){WDChamp.prototype._vOnTableZRAfficheAJAX.apply(this,arguments);this.m_sAliasChamp==n&&(this._vLiaisonHTML(),this._DeplaceElements())};WDZRHorizontale.prototype.nGetLargeurTotale=function(){return this.m_oDivPosTable.offsetWidth};WDZRHorizontale.prototype.nGetLargeurCliente=function(){return this.m_oDivPosParent.clientWidth};WDZRHorizontale.prototype.nGetLargeurClienteSB=function(){return this.m_oDivScrollBar.parentNode.clientWidth};WDZRHorizontale.prototype._DeplaceElements=function(){var n=this.nGetLargeurTotale(),t=this.nGetLargeurCliente(),u=this.nGetLargeurClienteSB(),i=this.m_nPosition,f=0,r=0;n<=t?(i=parseInt(-(t-n)/2,10),f=0,r=u):(n-i<t&&(i=n-t),r=parseInt(t*u/n,10),r<34&&(u-=34-r),f=parseInt(i*u/n,10));this.m_oDivPosParent.scrollLeft=i;this.m_oDivScrollBar.style.left=f+"px";this.m_oDivScrollBar.style.width=r+"px";clWDUtil.m_oNotificationsImagesVisibles.LanceNotifications(this,this.m_oDivPosParent)};WDZRHorizontale.prototype._vOnResize=function(){WDChamp.prototype._vOnResize.apply(this,arguments);this._DeplaceElements()};WDZRHorizontale.prototype.OnDefilement=function(n,t){var i;i=n?this.m_nPosition+t:this.m_nPosition-t;i=Math.min(i,this.nGetLargeurTotale()-this.nGetLargeurCliente());i=Math.max(i,0);this._Deplace(i)};WDDragScrollBarBase.prototype=new WDDrag;WDDragScrollBarBase.prototype.constructor=WDDragScrollBarBase;WDDragScrollBarBase.prototype._vbOnMouseDown=function(){return WDDrag.prototype._vbOnMouseDown.apply(this,arguments)?(this.m_nPosition=this.m_oObjetZRHorizontale.m_nPosition,!0):!1};WDDragScrollBarBase.prototype._vOnMouseUp=function(){this.m_nPosition=0;WDDrag.prototype._vOnMouseUp.apply(this,arguments)};WDDragScrollBarCurseur.prototype=new WDDragScrollBarBase;WDDragScrollBarCurseur.prototype.constructor=WDDragScrollBarCurseur;WDDragScrollBarCurseur.prototype._vOnMouseMove=function(n){WDDragScrollBarBase.prototype._vOnMouseMove.apply(this,arguments);var i=this.m_oObjetZRHorizontale.nGetLargeurTotale(),r=this.m_oObjetZRHorizontale.nGetLargeurClienteSB(),t=this.nGetOffsetPosX(n);t=parseInt(t*i/r,10);this.m_oObjetZRHorizontale.OnDeplace(t+this.m_nPosition)};WDDragScrollBarFond.prototype=new WDDragScrollBarBase;WDDragScrollBarFond.prototype.constructor=WDDragScrollBarFond;WDDragScrollBarFond.prototype._vbOnMouseDown=function(n){if(!WDDragScrollBarBase.prototype._vbOnMouseDown.apply(this,arguments))return!1;this._AnnuleTimer(n);this.m_nClientX=this._nGetPosXEvent(n);this.__OnDefilement();var t=this;return this.m_oObjetZRHorizontale.SetInterval("OnDefilementFondSB",function(){t.__OnDefilement()},300),!0};WDDragScrollBarFond.prototype._vOnMouseMove=function(n){WDDragScrollBarBase.prototype._vOnMouseMove.apply(this,arguments);this.m_nClientX=this._nGetPosXEvent(n)};WDDragScrollBarFond.prototype._vOnMouseUp=function(n){this._AnnuleTimer(n);WDDragScrollBarBase.prototype._vOnMouseUp.apply(this,arguments)};WDDragScrollBarFond.prototype._AnnuleTimer=function(){this.m_oObjetZRHorizontale.AnnuleTimeXXX("OnDefilementFondSB",!0)};WDDragScrollBarFond.prototype.__OnDefilement=function(){var n,t=this.m_nClientX-this.m_oDivScrollBar.getBoundingClientRect().left,i;if(t<0)n=!1;else if(t>this.m_oDivScrollBar.offsetWidth)n=!0;else return;i=Math.ceil(this.m_oObjetZRHorizontale.nGetLargeurCliente()*.9);this.m_oObjetZRHorizontale.OnDefilement(n,i)};WDDragScrollBarBouton.prototype=new WDDragScrollBarBase;WDDragScrollBarBouton.prototype.constructor=WDDragScrollBarBouton;WDDragScrollBarBouton.prototype.ms_nPasDefilement=8;WDDragScrollBarBouton.prototype._vbOnMouseDown=function(n){if(!WDDragScrollBarBase.prototype._vbOnMouseDown.apply(this,arguments))return!1;this._AnnuleTimer(n,!1);this.m_nDefilementV=this.ms_nPasDefilement;this.__OnDefilement();var t=this;return this.m_oObjetZRHorizontale.SetInterval("OnDefilementBouton",function(){t.__OnDefilement()},50),!0};WDDragScrollBarBouton.prototype._vOnMouseUp=function(n){this._AnnuleTimer(n,!0);WDDragScrollBarBase.prototype._vOnMouseUp.apply(this,arguments)};WDDragScrollBarBouton.prototype._AnnuleTimer=function(n,t){bIE&&t&&!this.m_oObjetZRHorizontale.bGetTimeXXXExiste("OnDefilementBouton")&&(this.m_nDefilementV=this.ms_nPasDefilement,this.__OnDefilement());this.m_oObjetZRHorizontale.AnnuleTimeXXX("OnDefilementBouton",!0)};WDDragScrollBarBouton.prototype.__OnDefilement=function(){this.m_oObjetZRHorizontale.OnDefilement(this.m_bDroite,this.m_nDefilementV);this.m_nDefilementV<=this.ms_nPasDefilement*10&&(this.m_nDefilementV+=this.ms_nPasDefilement)}